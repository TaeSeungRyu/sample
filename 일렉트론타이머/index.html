<!doctype html>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <script src="https://code.jquery.com/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
    
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha2/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
	<link rel="shortcut icon" href="my_icon.ico">
    <title>ì‹¬í”Œíƒ€ì´ë¨¸</title>
    <style>
        .explainer{
            color: #a0a0a0;
            padding-left: 0.5rem;
            padding-top: 0.5rem;
            font-size: 1.1rem;
            font-weight: bold;
        }
        textarea{
            display:inline-block;
            vertical-align:middle;
            text-align: center;
        }        
    </style>
</head>
<body class="row align-items-center" style="padding : 1.5rem;overflow: hidden;background-image: url(loginBack.jpg);background-repeat: none;background-size: cover;">
    <div class='col-12'>
        <input type="text" value="" id='minValue' class='form-control' style="height: 3rem;text-align: center;font-size: 1.5rem;" placeholder="ì‹œê°„ì„ ì…ë ¥í•˜ì„¸ìš”(ë¶„ë‹¨ìœ„)"/>
        <br>
        <table style="width: 100%;height: 3rem;">
            <tr>
                <td class='form-control' id='viewVaule' style="vertical-align: middle;text-align: center;font-size: 1.5rem;"></td>
            </tr>
        </table>
        <br>
        <button type="button" class='btn btn-success' onclick="start()">ì‹œì‘</button>
        <button type="button" class='btn btn-warning' onclick="stop()">ì¤‘ì§€</button>
        
        <div id='explain' class='explainer' style="display: none;"></div>
    </div>
</body>
</html>
<script>
const { ipcRenderer } = require('electron');
const { dialog } = require('electron').remote; 
const options = {
    type: 'question',  //ì¢…ë¥˜
    buttons: ['Yes'],  //ë²„íŠ¼ ìŠ¤íƒ€ì¼
    defaultId: 2,  //ê³ ìœ  ì•„ì´ë””
    title: 'ì•Œë¦¼!',  //ì œëª©
    message: 'ì‹œê°„ì´ ë‹¤ ë˜ì—ˆìŠµë‹ˆë‹¤.',
    detail: '',
    checkboxChecked: false,  //ì²´í¬ë°•ìŠ¤(ë©”ì‹œì§€ë¥¼ ì €ì¥í•©ë‹ˆë‹¤ ì´ëŸ° ê¸°ëŠ¥)
};


let interVal = null
let gap = 0

function start(){
    let val = $('#minValue').val()
    if(val ==='' || isNaN(val)) {
        $('#explain').addClass('explainer').text('ìˆ«ìë§Œ ì…ë ¥í•˜ì—¬ ì£¼ì„¸ìš” ğŸ‘»').fadeIn(1000, function(){
            $(this).fadeOut()
        })
        $('#minValue').focus()
        return
    }
    if(!interVal){
        $('#minValue').val('ë™ì‘ì‹œê°„ : '+val + 'ë¶„')
        interVal = setInterval( ()=>{
            if(gap >= 60 * val){ 
                options.detail = val + 'ë¶„ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.'
                dialog.showMessageBox(null, options).then(function(res){

                });                
                gap = 0
            }
            gap = gap + 1
            $('#viewVaule').text(gap+'ì´ˆ')
            console.log(gap)
        }, 1000)
    } else {
        $('#explain').addClass('explainer').text('ì´ë¯¸ ì‹¤í–‰ì¤‘ì…ë‹ˆë‹¤. ì¤‘ì§€ë§Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ ğŸ‘»').fadeIn(1000, function(){
            $(this).fadeOut()
        })
    }
}

function stop(){
    if(!interVal){
        $('#explain').addClass('explainer').text('í˜„ì¬ ë™ì‘í•˜ê³  ìˆì§€ ì•ŠìŠµë‹ˆë‹¤ ğŸ‘»').fadeIn(1000, function(){
            $(this).fadeOut()
        })
    } else {
        clearInterval(interVal)
        $('#viewVaule').text(0)
        interVal = null
        gap = 0
    }
}


</script>